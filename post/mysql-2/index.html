<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>深入浅出MySQL(2) ---- 数据库、数据表、数据类型 | 风袖</title>
<meta name="description" content="烟蛾敛略不胜态，风袖低昂如有情">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://zu3zz.github.io/favicon.ico?v=1589731257565">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://zu3zz.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://zu3zz.github.io">
        <img src="https://zu3zz.github.io/images/avatar.png?v=1589731257565" class="site-logo">
        <h1 class="site-title">风袖</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
        
          <a href="/projects" class="site-nav">
            项目
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/Zu3zz" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      烟蛾敛略不胜态，风袖低昂如有情
    </div>
    <div class="site-footer">
      By 3zz. | <a class="rss" href="https://zu3zz.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">深入浅出MySQL(2) ---- 数据库、数据表、数据类型</h2>
            <div class="post-date">2019-10-26</div>
            
            <div class="post-content">
              <p>🏖这一篇 我们讨论一下数据库和数据表的相关操作..</p>
<!-- more -->
<h2 id="1-数据库相关操作">1. 数据库相关操作</h2>
<h3 id="11创建数据库">1.1创建数据库</h3>
<ul>
<li>
<p>普通创建</p>
<pre><code class="language-sql">CREATE {DATABASE|SCHEMA} db_name;
</code></pre>
</li>
<li>
<p>检测数据库名称是否存在，不存在则创建</p>
<pre><code class="language-sql">CREATE DATABASE [IF NOT EXISTS] db_name;
</code></pre>
</li>
<li>
<p>在创建数据库的同时指定编码方式</p>
<pre><code class="language-sql">CREATE DATABASE [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset;
</code></pre>
</li>
<li>
<p><strong>注意!</strong></p>
<ol>
<li>数据库名称最好有意义</li>
<li>名称不要包含特殊字符或者是MySQL关键字</li>
</ol>
</li>
</ul>
<h3 id="12-查看当前服务器下全部数据库">1.2 查看当前服务器下全部数据库</h3>
<pre><code class="language-sql">SHOW DATABASES|SCHEMAS;
</code></pre>
<h3 id="13-查看指定数据库的详细信息">1.3 查看指定数据库的详细信息</h3>
<pre><code class="language-sql">SHOW CREATE BATABASE db_name;
</code></pre>
<h3 id="14-修改制定数据库的编码方式">1.4 修改制定数据库的编码方式</h3>
<pre><code class="language-sql">ALTER DATABASE db_name [DEFAULT] CHARACTER SET [=] charset;
</code></pre>
<h3 id="15-打开指定数据库">1.5 打开指定数据库</h3>
<pre><code class="language-sql">USE db_name;
</code></pre>
<h3 id="16-得到当前打开的数据库">1.6 得到当前打开的数据库</h3>
<pre><code class="language-sql">SELECT DATABASE()|SCHEMA();
</code></pre>
<h3 id="17-删除指定的数据库">1.7 删除指定的数据库</h3>
<ul>
<li>
<p>直接删除</p>
<pre><code class="language-sql">DROP DATABASE db_name;
</code></pre>
</li>
<li>
<p>如果数据库存在则删除</p>
<pre><code class="language-sql">DROP DATABASE [IF EXISTS] db_name;
</code></pre>
</li>
</ul>
<h2 id="2-数据表操作">2. 数据表操作</h2>
<h3 id="21-数据表">2.1 数据表</h3>
<ul>
<li>是数据库最重要的组成部分之一，数据是保存在数据表中</li>
<li>数据表由行（row）和列（column）来组成</li>
<li>每个数据表中至少有一列，行可以有零行一行或者多行组成</li>
<li>表名要求唯一，不要包含特殊字符，最好含义明确</li>
</ul>
<h3 id="22-创建表">2.2 创建表</h3>
<pre><code class="language-sql">CREATE TABLE [IF NOT EXISTS] tbl_name(
  字段名称 字段类型[完整性约束条件],
  字段名称 字段类型[完整性约束条件]
)ENGINE = 存储引擎 CHARSET=编码方式
</code></pre>
<p><strong>完整性约束条件：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>含义</th>
<th style="text-align:center">具体细节</th>
</tr>
</thead>
<tbody>
<tr>
<td>UNSIGNED</td>
<td>无符号</td>
<td style="text-align:center">没有负数，从0开始</td>
</tr>
<tr>
<td>ZEROFILL</td>
<td>零填充</td>
<td style="text-align:center">当数据的显示长度不够的时候，可以使用前补0的效果填充至指定长度，字段会自动添加UNSIGNED</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>非空约束</td>
<td style="text-align:center">插入值的时候这个字段必须要给值，值不能为空</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>默认值</td>
<td style="text-align:center">如果插入记录的时候没有给字段赋值，则使用默认值</td>
</tr>
<tr>
<td>PRIMARY KEY</td>
<td>主键主键</td>
<td style="text-align:center">标识记录的唯一性，值不能重复，一个表只能有一个主键，自动禁止为空</td>
</tr>
<tr>
<td>AUTO_INCREMENT</td>
<td>自动增长</td>
<td style="text-align:center">只能用于数值列，而且配合索引使用，默认起始值从1开始，每次增长1</td>
</tr>
<tr>
<td>UNIQUE KEY</td>
<td>唯一性</td>
<td style="text-align:center">一个表中可以有多个字段是唯一索引，同样的值不能重复，但是NULL值除外</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>外键</td>
<td style="text-align:center">外键约束</td>
</tr>
</tbody>
</table>
<h3 id="23-查看当前数据库下已有数据表">2.3 查看当前数据库下已有数据表</h3>
<pre><code class="language-sql">SHOW TABLES;
SHOW [FULL] TABLES [{FROM | IN} db_name]
[LIKE 'pattern' | WHERE expr];
</code></pre>
<h3 id="24-查看指定数据表的详细信息">2.4 查看指定数据表的详细信息</h3>
<pre><code class="language-sql">SHOW CREATE TABLE tbl_name;
</code></pre>
<h3 id="25-查看表结构">2.5 查看表结构</h3>
<pre><code class="language-sql">DESC tbl_name;
DESCRIBE tbl_name;
SHOW COLUMNS FROM tbl_name;
</code></pre>
<h3 id="26-删除指定的数据表">2.6 删除指定的数据表</h3>
<pre><code class="language-sql">DROP TABLE [IF EXISTS] tbl_name;
</code></pre>
<h3 id="27-表结构相关结构">2.7 表结构相关结构</h3>
<ol>
<li>
<p>添加字段</p>
<pre><code class="language-sql">ALTER TABLE tbl_name;
ADD 字段名称 字段属性 [完整性约束条件][FIRST|AFTER 字段名称]
</code></pre>
</li>
<li>
<p>删除字段</p>
<pre><code class="language-sql">ALTER TABLE tbl_name;
DROP 字段名称
</code></pre>
</li>
<li>
<p>添加默认值</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
ALTER 字段名称 SET DEFAULT 默认值;
</code></pre>
</li>
<li>
<p>删除默认值</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
ALTER 字段名称 DROP DEFAULT;
</code></pre>
</li>
<li>
<p>修改字段类型、字段属性</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
MODIFY 字段名称 字段类型 [字段属性] [FIRST | AFTER 字段名称];
</code></pre>
</li>
<li>
<p>修改字段名称、字段类型、字段属性</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
CHANGE 原字段名称 新字段名称 字段类型 字段属性 [FIRST | AFTER 字段名称]
</code></pre>
</li>
<li>
<p>添加主键</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
ADD PRIMARY KEY(字段名称);
</code></pre>
</li>
<li>
<p>删除主键</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
DROP PRIMARY KEY;
</code></pre>
</li>
<li>
<p>添加唯一</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
ADD QNIQUE KEY|INDEX [index_name](字段名称)
</code></pre>
</li>
<li>
<p>删除唯一</p>
<pre><code class="language-sql">ALTER TABLE tbl_name
DROP index_name;
</code></pre>
</li>
<li>
<p>修改数据表名称</p>
<ul>
<li>通过ALTER然后RENAME的格式</li>
</ul>
<pre><code class="language-sql">ALTER TABLE tbl_name
RENAME [TO|AS] new_tbl_name;
</code></pre>
<ul>
<li>直接RENAME</li>
</ul>
<pre><code class="language-sql">RENAME TABLE tbl_name TO new_tbl_name;
</code></pre>
</li>
<li>
<p>修改 AUTO_INCREMENT的值</p>
<pre><code class="language-sql">ALTER TABLE tbl_name AUTO_INCREMENT=值
</code></pre>
</li>
</ol>
<h2 id="3-mysql中的数据类型">3. MYSQL中的数据类型</h2>
<h3 id="31-数值型">3.1 数值型</h3>
<ol>
<li>整数型
<ul>
<li>TINYINT：字节1
<ul>
<li>有符号值： -128 到 127（-2<sup>7到2</sup>7-1）</li>
<li>无符号值：0到255（0到2^8-1）</li>
</ul>
</li>
<li>SMALLINT：字节2
<ul>
<li>有符号值：-32768到32767（-2<sup>15到2</sup>15-1）</li>
<li>无符号值：0到65535（0到2^16-1）</li>
</ul>
</li>
<li>MEDIUMINT：字节3
<ul>
<li>有符号值：-8388608到8388607（-2<sup>31到2</sup>31-1）</li>
<li>无符号值：0到16777215（0到2^32-1）</li>
</ul>
</li>
<li>INT：字节4
<ul>
<li>有符号值：-2<sup>31到2</sup>31-1</li>
<li>无符号值：0到2^32-1</li>
</ul>
</li>
<li>BIGINT：字节8
<ul>
<li>有符号值：-2<sup>63到2</sup>63-1</li>
<li>无符号值：0到2^64-1</li>
</ul>
</li>
<li>BOOL/BOOLEAN：字节1
<ul>
<li>等价于TINYINT（1）</li>
<li>0为false，其余为true</li>
</ul>
</li>
</ul>
</li>
<li>浮点型
<ul>
<li>FLOAT[(M,D)]: 字节4
<ul>
<li>M是总位数，D是小数点后的位置</li>
</ul>
</li>
<li>DOUBLE[(M,D)]: 字节8</li>
<li>DECIMAL[(M,D)]: M+2</li>
</ul>
</li>
</ol>
<h3 id="32-字符串类型">3.2 字符串类型</h3>
<ul>
<li>类型综述</li>
</ul>
<table>
<thead>
<tr>
<th>列类型</th>
<th>存储需求</th>
</tr>
</thead>
<tbody>
<tr>
<td>CHAR(M)</td>
<td>M个字节，0&lt;=M&lt;=255</td>
</tr>
<tr>
<td>VARCHAR(M)</td>
<td>L+1字节，其中L&lt;=M且0&lt;=M&lt;=65535</td>
</tr>
<tr>
<td></td>
<td>L+1个字节，其中L&lt;2^8</td>
</tr>
<tr>
<td>TEXT</td>
<td>L+2个字节，其中L&lt;2^16</td>
</tr>
<tr>
<td></td>
<td>L+3个字节，其中L&lt;2^24</td>
</tr>
<tr>
<td>LONGTEXT</td>
<td>L+4个字节，其中L&lt;2^32</td>
</tr>
<tr>
<td>ENUM('value1','value2')</td>
<td>1或2个字节，取决于枚举值的个数(最多65535个值)</td>
</tr>
<tr>
<td>SET('value1','value2')</td>
<td>1、2、3、4或者8个字节，取决于set成员的数目(最多64个)</td>
</tr>
</tbody>
</table>
<ul>
<li>一些tips
<ul>
<li>CHAR效率高于VARCHAR,CHAR相当于拿空间换时间，VARCHAR拿时间换空间</li>
<li>CHAR默认存储数据的时候，后面会用空格填充到指定长度；而在检索的时候会去掉后面空格；VARCHAR在保存的时候不进行填充，尾部的空格会留下</li>
<li>TEXT列不能有默认值，检索的时候不存在大小写转换</li>
</ul>
</li>
</ul>
<h3 id="33-日期时间类型">3.3 日期时间类型</h3>
<table>
<thead>
<tr>
<th>列类型</th>
<th>存储范围</th>
<th>存储需求</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>-838:59:59 ~ 838:59:59</td>
<td>3</td>
</tr>
<tr>
<td>DATE</td>
<td>1000-01-01 ~ 9999-12-31</td>
<td>3</td>
</tr>
<tr>
<td></td>
<td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td>
<td></td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>1970-01-01 00:00:01 UTC ~ 2038-01-19 03:14:07</td>
<td>4</td>
</tr>
<tr>
<td>YEAR</td>
<td>1901-2155</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="34-二进制类型">3.4 二进制类型</h3>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://zu3zz.github.io/tag/tqQSAbU7V/" class="tag">
                    BackEnd
                  </a>
                
                  <a href="https://zu3zz.github.io/tag/7acBApeyq/" class="tag">
                    MySQL
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://zu3zz.github.io/post/mysql-1/">
                  <h3 class="post-title">
                    深入浅出MySQL(1) ---- 基础与概念
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
