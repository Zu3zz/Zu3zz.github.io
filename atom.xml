<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://Zu3zz.github.io</id>
    <title>Zu3zz</title>
    <updated>2019-08-14T15:06:37.126Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://Zu3zz.github.io"/>
    <link rel="self" href="https://Zu3zz.github.io/atom.xml"/>
    <subtitle>Everyone Can (Not) Comprehend.</subtitle>
    <logo>https://Zu3zz.github.io/images/avatar.png</logo>
    <icon>https://Zu3zz.github.io/favicon.ico</icon>
    <rights>All rights reserved 2019, Zu3zz</rights>
    <entry>
        <title type="html"><![CDATA[ä»å¤´æ¢³ç†æœåŠ¡å™¨æ¸²æŸ“åŸç†(SSR)]]></title>
        <id>https://Zu3zz.github.io/post/react-ssr</id>
        <link href="https://Zu3zz.github.io/post/react-ssr">
        </link>
        <updated>2019-08-14T14:54:33.000Z</updated>
        <summary type="html"><![CDATA[<p>è¿™ä¸€æ¬¡ï¼Œè®©æˆ‘ä»¬æ¥ä»¥Reactä¸ºä¾‹ï¼ŒæŠŠæœåŠ¡ç«¯æ¸²æŸ“(Server Side Renderï¼Œç®€ç§°â€œSSRâ€)å­¦ä¸ªæ˜æ˜ç™½ç™½ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>è¿™ä¸€æ¬¡ï¼Œè®©æˆ‘ä»¬æ¥ä»¥Reactä¸ºä¾‹ï¼ŒæŠŠæœåŠ¡ç«¯æ¸²æŸ“(Server Side Renderï¼Œç®€ç§°â€œSSRâ€)å­¦ä¸ªæ˜æ˜ç™½ç™½ã€‚</p>
<!-- more -->
<h2 id="part1å®ç°ä¸€ä¸ªåŸºç¡€çš„reactç»„ä»¶ssr">part1ï¼šå®ç°ä¸€ä¸ªåŸºç¡€çš„Reactç»„ä»¶SSR</h2>
<p>è¿™ä¸€éƒ¨åˆ†æ¥ç®€è¦å®ç°ä¸€ä¸ªReactç»„ä»¶çš„SSRã€‚</p>
<h3 id="ä¸€-ssr-vs-csr">ä¸€. SSR vs CSR</h3>
<p>ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Ÿ</p>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥èµ·ä¸€ä¸ªexpressæœåŠ¡å™¨ã€‚</p>
<pre><code class="language-javascript">var express = require('express')
var app = express()

app.get('/', (req, res) =&gt; {
 res.send(
 `
   &lt;html&gt;
     &lt;head&gt;
       &lt;title&gt;hello&lt;/title&gt;
     &lt;/head&gt;
     &lt;body&gt;
       &lt;h1&gt;hello&lt;/h1&gt;
       &lt;p&gt;world&lt;/p&gt;
     &lt;/body&gt;
   &lt;/html&gt;
 `
 )
})

app.listen(3001, () =&gt; {
 console.log('listen:3001')
})
</code></pre>
<p>å¯åŠ¨ä¹‹åæ‰“å¼€localhost:3001å¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºäº†hello worldã€‚è€Œä¸”æ‰“å¼€ç½‘é¡µæºä»£ç å¦‚ä¸‹ï¼š<br>
<img src="https://Zu3zz.github.io/post-images/1565794815666.jpg" alt=""><br>
ä¹Ÿèƒ½å¤Ÿå®Œæˆæ˜¾ç¤ºã€‚<br>
è¿™å°±æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ã€‚å…¶å®éå¸¸å¥½ç†è§£ï¼Œå°±æ˜¯æœåŠ¡å™¨è¿”å›ä¸€å †htmlå­—ç¬¦ä¸²ï¼Œç„¶åè®©æµè§ˆå™¨æ˜¾ç¤ºã€‚<br>
ä¸æœåŠ¡ç«¯æ¸²æŸ“ç›¸å¯¹çš„æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“(Client Side Render)ã€‚é‚£ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼Ÿ<br>
ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„Reacté¡¹ç›®ï¼Œç”¨è„šæ‰‹æ¶ç”Ÿæˆé¡¹ç›®ï¼Œç„¶årunèµ·æ¥ã€‚<br>
è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°Reactè„šæ‰‹æ¶è‡ªåŠ¨ç”Ÿæˆçš„é¦–é¡µã€‚</p>
<p><img src="https://Zu3zz.github.io/post-images/1565794890546.jpg" alt=""><br>
ç„¶è€Œæ‰“å¼€ç½‘é¡µæºä»£ç ,æˆ‘ä»¬ä¼šå‘ç°ç½‘é¡µå¹¶æ²¡æœ‰ä»»ä½•DOMç»“æ„<br>
<img src="https://Zu3zz.github.io/post-images/1565794896346.jpg" alt=""><br>
bodyä¸­é™¤äº†å…¼å®¹å¤„ç†çš„noscriptæ ‡ç­¾ä¹‹å¤–ï¼Œåªæœ‰ä¸€ä¸ªidä¸ºrootçš„æ ‡ç­¾ã€‚é‚£é¦–é¡µçš„å†…å®¹æ˜¯ä»å“ªæ¥çš„å‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œæ˜¯ä¸‹é¢çš„scriptä¸­æ‹‰å–çš„JSä»£ç æ§åˆ¶çš„ã€‚<br>
å› æ­¤ï¼ŒCSRå’ŒSSRæœ€å¤§çš„åŒºåˆ«åœ¨äºå‰è€…çš„é¡µé¢æ¸²æŸ“æ˜¯JSè´Ÿè´£è¿›è¡Œçš„ï¼Œè€Œåè€…æ˜¯æœåŠ¡å™¨ç«¯ç›´æ¥è¿”å›HTMLè®©æµè§ˆå™¨ç›´æ¥æ¸²æŸ“ã€‚<br>
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“å‘¢ï¼Ÿ<br>
<img src="https://Zu3zz.github.io/post-images/1565795001030.jpeg" alt=""><br>
ä¼ ç»ŸCSRçš„å¼Šç«¯ï¼š</p>
<ol>
<li>ç”±äºé¡µé¢æ˜¾ç¤ºè¿‡ç¨‹è¦è¿›è¡ŒJSæ–‡ä»¶æ‹‰å–å’ŒReactä»£ç æ‰§è¡Œï¼Œé¦–å±åŠ è½½æ—¶é—´ä¼šæ¯”è¾ƒæ…¢ã€‚</li>
<li>å¯¹äºSEO(Search Engine Optimazition,å³æœç´¢å¼•æ“ä¼˜åŒ–)ï¼Œå®Œå…¨æ— èƒ½ä¸ºåŠ›ï¼Œå› ä¸ºæœç´¢å¼•æ“çˆ¬è™«åªè®¤è¯†htmlç»“æ„çš„å†…å®¹ï¼Œè€Œä¸èƒ½è¯†åˆ«JSä»£ç å†…å®¹ã€‚</li>
</ol>
<p>SSRçš„å‡ºç°ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›ä¼ ç»ŸCSRçš„å¼Šç«¯ã€‚</p>
<h2 id="äºŒ-å®ç°reactç»„ä»¶çš„æœåŠ¡ç«¯æ¸²æŸ“">äºŒã€å®ç°Reactç»„ä»¶çš„æœåŠ¡ç«¯æ¸²æŸ“</h2>
<p>åˆšåˆšèµ·çš„expressæœåŠ¡è¿”å›çš„åªæ˜¯ä¸€ä¸ªæ™®é€šçš„htmlå­—ç¬¦ä¸²ï¼Œä½†æˆ‘ä»¬è®¨è®ºçš„æ˜¯å¦‚ä½•è¿›è¡ŒReactçš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œé‚£ä¹ˆæ€ä¹ˆåšå‘¢ï¼Ÿ é¦–å…ˆåˆ›å»ºcontainersæ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªHome.jsçš„æ–‡ä»¶ï¼Œå†™ä¸€ä¸ªç®€å•çš„Reactç»„ä»¶:</p>
<pre><code class="language-javascript">// containers/Home.js
import React from 'react';
const Home = () =&gt; {
  return (
    &lt;div&gt;
      &lt;div&gt;This is sanyuan&lt;/div&gt;
    &lt;/div&gt;
  )
}
export default Home
</code></pre>
<p>ç°åœ¨çš„ä»»åŠ¡å°±æ˜¯å°†å®ƒè½¬æ¢ä¸ºhtmlä»£ç è¿”å›ç»™æµè§ˆå™¨ã€‚<br>
æ€»æ‰€å‘¨çŸ¥ï¼ŒJSXä¸­çš„æ ‡ç­¾å…¶å®æ˜¯åŸºäºè™šæ‹ŸDOMçš„ï¼Œæœ€ç»ˆè¦é€šè¿‡ä¸€å®šçš„æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºçœŸå®DOMã€‚è™šæ‹ŸDOMä¹Ÿå°±æ˜¯JSå¯¹è±¡ï¼Œå¯ä»¥çœ‹å‡ºæ•´ä¸ªæœåŠ¡ç«¯çš„æ¸²æŸ“æµç¨‹å°±æ˜¯é€šè¿‡è™šæ‹ŸDOMçš„ç¼–è¯‘æ¥å®Œæˆçš„ï¼Œå› æ­¤è™šæ‹ŸDOMå·¨å¤§çš„è¡¨è¾¾åŠ›ä¹Ÿå¯è§ä¸€æ–‘äº†ã€‚<br>
è€Œreact-domè¿™ä¸ªåº“ä¸­åˆšå¥½å®ç°äº†ç¼–è¯‘è™šæ‹ŸDOMçš„æ–¹æ³•ã€‚åšæ³•å¦‚ä¸‹:</p>
<pre><code class="language-javascript">// server/index.js
import express from 'express';
import { renderToString } from 'react-dom/server';
import Home from './containers/Home';

const app = express();
const content = renderToString(&lt;Home /&gt;);
app.get('/', function (req, res) {
   res.send(
   `
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;ssr&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div id=&quot;root&quot;&gt;${content}&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
   `
   );
})
app.listen(3001, () =&gt; {
  console.log('listen:3001')
})
</code></pre>
<p>å¯åŠ¨expressæœåŠ¡ï¼Œå†æµè§ˆå™¨ä¸Šæ‰“å¼€å¯¹åº”ç«¯å£ï¼Œé¡µé¢æ˜¾ç¤ºå‡º&quot;this is sanyuan&quot;ã€‚<br>
åˆ°æ­¤ï¼Œå°±åˆæ­¥å®ç°äº†ä¸€ä¸ªReactç»„ä»¶æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ã€‚<br>
å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªéå¸¸ç®€é™‹çš„SSRï¼Œäº‹å®ä¸Šå¯¹äºå¤æ‚çš„é¡¹ç›®è€Œè¨€æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼Œåœ¨ä¹‹åä¼šä¸€æ­¥æ­¥å®Œå–„ï¼Œæ‰“é€ å‡ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„Reactçš„SSRæ¡†æ¶ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç”¨ä¼˜é›…çš„ä»£ç æ­¦è£…æˆ‘ä»¬çš„koa2é¡¹ç›®]]></title>
        <id>https://Zu3zz.github.io/post/koa-tricks</id>
        <link href="https://Zu3zz.github.io/post/koa-tricks">
        </link>
        <updated>2019-08-10T08:03:41.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘ ä¼—æ‰€å‘¨çŸ¥ï¼Œkoa2æ˜¯åŸºäºnodejsçš„ä¸€æ¬¾éå¸¸è½»é‡çº§çš„æœåŠ¡ç«¯æ¡†æ¶ï¼Œå…¶ç®€å•æ˜“ä¸Šæ‰‹çš„ç‰¹æ€§æ›´æ˜¯å¤§å¤§èŠ‚çœäº†å‰ç«¯äººå‘˜å¼€å‘æœåŠ¡ç«¯apiçš„æˆæœ¬ã€‚<br>
ğŸ’» å°½ç®¡è®¸å¤šåŠŸèƒ½èƒ½å¤Ÿå®ç°ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªæœ‰ç´ å…»çš„å¼€å‘äººå‘˜ï¼Œä»£ç çš„å±‚æ¬¡æ€§ã€åæœŸå¯ç»´æŠ¤æ€§éƒ½æ˜¯éœ€è¦è€ƒè™‘å‘¨åˆ°çš„......</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘ ä¼—æ‰€å‘¨çŸ¥ï¼Œkoa2æ˜¯åŸºäºnodejsçš„ä¸€æ¬¾éå¸¸è½»é‡çº§çš„æœåŠ¡ç«¯æ¡†æ¶ï¼Œå…¶ç®€å•æ˜“ä¸Šæ‰‹çš„ç‰¹æ€§æ›´æ˜¯å¤§å¤§èŠ‚çœäº†å‰ç«¯äººå‘˜å¼€å‘æœåŠ¡ç«¯apiçš„æˆæœ¬ã€‚<br>
ğŸ’» å°½ç®¡è®¸å¤šåŠŸèƒ½èƒ½å¤Ÿå®ç°ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªæœ‰ç´ å…»çš„å¼€å‘äººå‘˜ï¼Œä»£ç çš„å±‚æ¬¡æ€§ã€åæœŸå¯ç»´æŠ¤æ€§éƒ½æ˜¯éœ€è¦è€ƒè™‘å‘¨åˆ°çš„......</p>
<!-- more -->
<p>å®è¯è¯´ï¼ŒæŒ‰ç…§koaå®˜æ–¹æ–‡æ¡£æ¥ç…§è‘«èŠ¦ç”»ç“¢ï¼Œæˆ‘ä»¬çš„ä»£ç æ˜¯å†™ä¸æ¼‚äº®çš„ã€‚</p>
<p>è¿™é‡Œéœ€è¦æˆ‘ä»¬åœ¨ç¼–ç ä¹‹å‰æœ‰ä¸€ä¸ªéå¸¸æ¸…æ™°çš„è®¤è¯†ï¼šæˆ‘ä»¬çš„ä»£ç å¦‚ä½•ç»„ç»‡ï¼Ÿå¦‚ä½•åˆ†å±‚ï¼Ÿå¦‚ä½•å¤ç”¨ï¼Ÿ</p>
<p>åœ¨ç»å†ä¸€ç³»åˆ—çš„æ€è€ƒæ–Ÿé…Œä»¥åŠä¸€äº›é¡¹ç›®çš„å®è·µä¹‹åï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›å…³äºkoaçš„å¼€å‘æŠ€å·§ï¼Œèƒ½å¤Ÿå¤§å¹…åº¦çš„æé«˜é¡¹ç›®çš„ä»£ç è´¨é‡ï¼Œå†ä¹Ÿä¸ç”¨è®©åŒä¼´ç¬‘è¯ä»£ç å†™çš„çƒ‚å•¦ï¼</p>
<h2 id="ä¸€è·¯ç”±çš„è‡ªåŠ¨åŠ è½½">ä¸€.è·¯ç”±çš„è‡ªåŠ¨åŠ è½½</h2>
<p>ä¹‹å‰æˆ‘ä»¬çš„è·¯ç”±æ€»æ˜¯æ‰‹åŠ¨æ³¨å†Œçš„ï¼Ÿå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="language-javascript">//app.js
const Koa = require('koa');
const app = new Koa(); 

const user = require('./app/api/user');
const store = require('./app/api/store');

app.use(user.routes());
app.use(classic.routes());
</code></pre>
<p>å¯¹äºå†™è¿‡koaé¡¹ç›®çš„äººæ¥è¯´ï¼Œè¿™æ®µä»£ç æ˜¯ä¸æ˜¯ç›¸å½“ç†Ÿæ‚‰å‘¢ï¼Ÿå…¶å®ç°åœ¨åªæœ‰ä¸¤ä¸ªè·¯ç”±æ–‡ä»¶è¿˜å¥½ï¼Œä½†å®é™…ä¸Šè¿™æ ·çš„æ–‡ä»¶æ•°é‡åºå¤§åˆ°ä¸€å®šçš„ç¨‹åº¦ï¼Œå†åƒè¿™æ ·å¼•å…¥å†useæ–¹å¼æœªå…ä¼šæ˜¾å¾—ç¹çæ‹–æ²“ã€‚é‚£æœ‰æ²¡æœ‰åŠæ³•è®©è¿™äº›æ–‡ä»¶è‡ªåŠ¨è¢«å¼•å…¥ã€è‡ªåŠ¨è¢«useå‘¢ï¼Ÿ</p>
<p>æœ‰çš„ã€‚ç°åœ¨è®©æˆ‘ä»¬æ¥å®‰è£…ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŒ…:<br>
<code>yarn add require-directory</code><br>
ç°åœ¨åªéœ€è¦è¿™ä¹ˆåšï¼š</p>
<pre><code class="language-javascript">//...
const Router = require('koa-router'); 
const requireDirectory = require('require-directory');
//moduleä¸ºå›ºå®šå‚æ•°ï¼Œ'./api'ä¸ºè·¯ç”±æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„(æ”¯æŒåµŒå¥—ç›®å½•ä¸‹çš„æ–‡ä»¶)ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸­çš„visitä¸ºå›è°ƒå‡½æ•°
const modules = requireDirectory(module, './app/api', {
    visit: whenLoadModule
});
function whenLoadModule(obj) {
    if(obj instanceof Router) {
        app.use(obj.routes());
    }
}
</code></pre>
<p>ç”±æ­¤å¯è§ï¼Œå¥½çš„ä»£ç æ˜¯å¯ä»¥æå‡æ•ˆç‡çš„ï¼Œè¿™æ ·çš„è‡ªåŠ¨åŠ è½½è·¯ç”±çœå»äº†å¾ˆå¤šæ³¨å†Œé…ç½®çš„åŠŸå¤«ï¼Œæ˜¯ä¸æ˜¯éå¸¸é…·ç‚«ï¼Ÿ</p>
<h2 id="äºŒç”¨ç®¡ç†å™¨å°†å…¥å£æ–‡ä»¶å†…å®¹æŠ½ç¦»">äºŒ.ç”¨ç®¡ç†å™¨å°†å…¥å£æ–‡ä»¶å†…å®¹æŠ½ç¦»</h2>
<p>ç›¸ä¿¡å¾ˆå¤šäººéƒ½è¿™æ ·åšï¼šè·¯ç”±æ³¨å†Œä»£ç å†™åœ¨äº†å…¥å£æ–‡ä»¶app.jsä¸­ï¼Œä»¥åè¿›è¡Œç›¸åº”ä¸­é—´ä»¶çš„å¯¼å…¥ä¹Ÿæ˜¯å†™åœ¨è¿™ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯å¯¹äºå…¥å£æ–‡ä»¶æ¥è¯´ï¼Œæˆ‘ä»¬æ˜¯ä¸å¸Œæœ›è®©å®ƒå˜å¾—ååˆ†è‡ƒè‚¿çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€‚å½“åœ°å°†ä¸€äº›æ“ä½œæŠ½ç¦»å‡ºæ¥ã€‚</p>
<p>åœ¨æ ¹ç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹coreï¼Œä»¥åä¸€äº›å…¬å…±çš„ä»£ç éƒ½å­˜æ”¾åœ¨è¿™é‡Œã€‚</p>
<pre><code class="language-javascript">//core/init.js
const requireDirectory = require('require-directory');
const Router = require('koa-router'); 

class InitManager {
    static initCore(app) {
        //æŠŠapp.jsä¸­çš„koaå®ä¾‹ä¼ è¿›æ¥
        InitManager.app = app;
        InitManager.initLoadRouters();
    }
    static initLoadRouters() {
        //æ³¨æ„è¿™é‡Œçš„è·¯å¾„æ˜¯ä¾èµ–äºå½“å‰æ–‡ä»¶æ‰€åœ¨ä½ç½®çš„
        //æœ€å¥½å†™æˆç»å¯¹è·¯å¾„
        const apiDirectory = `${process.cwd()}/app/api`
        const modules = requireDirectory(module, apiDirectory, {
            visit: whenLoadModule
        });
        function whenLoadModule(obj) {
            if(obj instanceof Router) {
                InitManager.app.use(obj.routes())
            }
        }
    }
}

module.exports = InitManager;
</code></pre>
<p>ç°åœ¨åœ¨app.jsä¸­</p>
<pre><code class="language-javascript">const Koa = require('koa');
const app = new Koa();

const InitManager = require('./core/init');
InitManager.initCore(app);
</code></pre>
<p>å¯ä»¥è¯´å·²ç»ç²¾ç®€å¾ˆå¤šäº†ï¼Œè€Œä¸”åŠŸèƒ½çš„å®ç°ç…§æ ·æ²¡æœ‰é—®é¢˜ã€‚</p>
<h2 id="ä¸‰å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„åŒºåˆ†">ä¸‰.å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„åŒºåˆ†</h2>
<p>æœ‰æ—¶å€™ï¼Œåœ¨ä¸¤ç§ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åšä¸åŒçš„å¤„ç†ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬æå‰åœ¨å…¨å±€ä¸­æ³¨å…¥ç›¸åº”çš„å‚æ•°ã€‚</p>
<p>é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œåˆ›å»ºconfigæ–‡ä»¶å¤¹ï¼š</p>
<pre><code class="language-javascript">//config/config.js
module.exports = {
  environment: 'dev'
}
//core/init.jsçš„initManagerç±»ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹
static loadConfig() {
    const configPath = process.cwd() + '/config/config.js';
    const config = require(configPath);
    global.config = config;
}
</code></pre>
<p>ç°åœ¨é€šè¿‡å…¨å±€çš„globalå˜é‡ä¸­å°±å¯ä»¥å–åˆ°å½“å‰çš„ç¯å¢ƒå•¦.</p>
<h2 id="å››å…¨å±€å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶">å››.å…¨å±€å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶</h2>
<p><strong>1.å¼‚æ­¥å¼‚å¸¸å¤„ç†çš„å‘</strong><br>
åœ¨æœåŠ¡ç«¯apiç¼–å†™çš„è¿‡ç¨‹ä¸­ï¼Œå¼‚å¸¸å¤„ç†æ˜¯éå¸¸é‡è¦çš„ä¸€ç¯ï¼Œå› ä¸ºä¸å¯èƒ½æ¯ä¸ªå‡½æ•°è¿”å›çš„ç»“æœéƒ½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æ— è®ºæ˜¯è¯­æ³•çš„é”™è¯¯ï¼Œè¿˜æ˜¯ä¸šåŠ¡é€»è¾‘ä¸Šçš„é”™è¯¯ï¼Œéƒ½éœ€è¦è®©å¼‚å¸¸æŠ›å‡ºï¼Œè®©é—®é¢˜ä»¥æœ€ç›´è§‚çš„æ–¹å¼æš´éœ²ï¼Œè€Œä¸æ˜¯ç›´æ¥å¿½ç•¥ã€‚å…³äºç¼–ç é£æ ¼ï¼Œã€Šä»£ç å¤§å…¨ã€‹é‡Œé¢ä¹Ÿå¼ºè°ƒè¿‡ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°é‡åˆ°å¼‚å¸¸æ—¶ï¼Œæœ€å¥½çš„æ–¹å¼ä¸æ˜¯ç›´æ¥return false/nullï¼Œè€Œæ˜¯è®©å¼‚å¸¸ç›´æ¥æŠ›å‡ºã€‚</p>
<p>è€Œåœ¨JSä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½åœ¨å†™å¼‚æ­¥ä»£ç ï¼Œä¾‹å¦‚å®šæ—¶å™¨ï¼ŒPromiseç­‰ç­‰ï¼Œè¿™å°±ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœç”¨try/catchçš„è¯ï¼Œè¿™æ ·çš„å¼‚æ­¥ä»£ç ä¸­çš„é”™è¯¯æˆ‘ä»¬æ˜¯æ— æ³•æ•æ‰çš„ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="language-javascript">function func1() {
  try {
    func2();
  } catch (error) {
    console.log('error');
  }
}

function func2() {
  setTimeout(() =&gt; {
    throw new Error('error')
  }, 1000)
}

func1();
</code></pre>
<p>æ‰§è¡Œè¿™äº›ä»£ç ï¼Œä½ ä¼šå‘ç°è¿‡äº†ä¸€ç§’åç¨‹åºç›´æ¥æŠ¥é”™ï¼Œconsole.log('error')å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯func1å¹¶æ²¡æœ‰æ•æ‰åˆ°func2çš„å¼‚å¸¸ã€‚è¿™å°±æ˜¯å¼‚æ­¥çš„é—®é¢˜æ‰€åœ¨ã€‚</p>
<p>é‚£æ€ä¹ˆè§£å†³è¿™ä¸ªå‘å‘¢ï¼Ÿ</p>
<p>æœ€ç®€ä¾¿çš„æ–¹å¼æ˜¯é‡‡å–async-awaitã€‚</p>
<pre><code class="language-javascript">async function func1() {
  try {
    await func2();
  } catch (error) {
    console.log('error');
  }
}

function func2() {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      reject()
    }, 1000)
  })
}

func1();
</code></pre>
<p>åœ¨è¿™é‡Œçš„å¼‚æ­¥å‡½æ•°è¢«Promiseå°è£…ï¼Œç„¶årejectè§¦å‘func1ä¸­çš„catchï¼Œè¿™å°±æ•æ‰åˆ°äº†func2ä¸­çš„å¼‚å¸¸ã€‚åº†å¹¸çš„æ˜¯ï¼Œåƒfunc2è¿™æ ·çš„å¼‚æ­¥ä»£ç ï¼Œç°åœ¨å¸¸ç”¨çš„åº“(å¦‚axiosã€sequelize)å·²ç»ä¸ºæˆ‘ä»¬å°è£…å¥½äº†Promiseå¯¹è±¡ï¼Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»å°è£…äº†ï¼Œç›´æ¥å»é€šè¿‡async-awaitçš„æ–¹å¼å»try/catchå°±è¡Œäº†ã€‚</p>
<p>å¿ å‘Š: é€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªè¦æ˜¯å¼‚æ­¥ä»£ç ï¼Œæ‰§è¡Œä¹‹å‰å¿…é¡»è¦åŠ awaitï¼Œä¸åŠ ä¼šæŠ¥Unhandled promise rejectionçš„é”™è¯¯ã€‚è¡€çš„æ•™è®­!</p>
<p><strong>2.è®¾è®¡å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶</strong></p>
<pre><code class="language-javascript">//middlewares/exception.js
//è¿™é‡Œçš„å·¥ä½œæ˜¯æ•è·å¼‚å¸¸ç”Ÿæˆè¿”å›çš„æ¥å£
const catchError = async (ctx, next) =&gt; {
  try {
    await next();
  } catch (error) {
    if(error.errorCode) {
      ctx.body = {
        msg: error.msg,
        error_code: error.errorCode,
        request: `${ctx.method} ${ctx.path}`
      };
    } else {
      //å¯¹äºæœªçŸ¥çš„å¼‚å¸¸ï¼Œé‡‡ç”¨ç‰¹åˆ«å¤„ç†
      ctx.body = {
        msg: 'we made a mistake',
      };
    }
  }
}
module.exports = catchError;
</code></pre>
<p>åˆ°å…¥å£æ–‡ä»¶ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ã€‚</p>
<pre><code class="language-javascript">//app.js
const catchError = require('./middlewares/exception');
app.use(catchError)
</code></pre>
<p>æ¥ç€æˆ‘ä»¬æ¥ä»¥HttpExceptionä¸ºä¾‹ç”Ÿæˆç‰¹å®šç±»å‹çš„å¼‚å¸¸ã€‚</p>
<pre><code class="language-javascript">//core/http-exception.js
class HttpException extends Error {
  //msgä¸ºå¼‚å¸¸ä¿¡æ¯ï¼ŒerrorCodeä¸ºé”™è¯¯ç (å¼€å‘äººå‘˜å†…éƒ¨çº¦å®š),codeä¸ºHTTPçŠ¶æ€ç 
  constructor(msg='æœåŠ¡å™¨å¼‚å¸¸', errorCode=10000, code=400) {
    super()
    this.errorCode = errorCode
    this.code = code
    this.msg = msg
  }
}

module.exports = {
  HttpException
}
//app/api/user.js
const Router = require('koa-router')
const router = new Router()
const { HttpException } = require('../../core/http-exception')

router.post('/user', (ctx, next) =&gt; {
    if(true){
        const error = new HttpException('ç½‘ç»œè¯·æ±‚é”™è¯¯', 10001, 400)
        throw error
  }
})
</code></pre>
<p>è¿”å›çš„æ¥å£è¿™æ ·:</p>
<pre><code class="language-json">{
	&quot;msg&quot;: &quot;ç½‘ç»œè¯·æ±‚é”™è¯¯&quot;,
	&quot;error_code&quot;:10001,
	&quot;request&quot;: &quot;POST /user&quot;
}
</code></pre>
<p>è¿™æ ·å°±æŠ›å‡ºäº†ä¸€ä¸ªç‰¹å®šç±»å‹çš„é”™è¯¯ã€‚ä½†æ˜¯åœ¨ä¸šåŠ¡ä¸­é”™è¯¯çš„ç±»å‹æ˜¯éå¸¸å¤æ‚çš„ï¼Œç°åœ¨æˆ‘å°±æŠŠæˆ‘ç¼–å†™çš„ä¸€äº›Exceptionç±»åˆ†äº«ä¸€ä¸‹ï¼Œä¾›å¤§å®¶æ¥å‚è€ƒ:</p>
<pre><code class="language-javascript">// http-exception.js
class HttpException extends Error {
  constructor(msg = 'æœåŠ¡å™¨å¼‚å¸¸', errorCode=10000, code=400) {
    super()
    this.error_code = errorCode
    this.code = code
    this.msg = msg
  }
}

class ParameterException extends HttpException{
  constructor(msg, errorCode){
    super()
    this.code = 400
    this.msg = msg || 'å‚æ•°é”™è¯¯'
    this.errorCode = errorCode || 10000
  }
}

class NotFound extends HttpException{
  constructor(msg, errorCode) {
    super();
    this.msg = msg || 'èµ„æºæœªæ‰¾åˆ°';
    this.errorCode = errorCode || 10001;
    this.code = 404;
  }
}

class AuthFailed extends HttpException{
  constructor(msg, errorCode) {
    super();
    this.msg = msg || 'æˆæƒå¤±è´¥';
    this.errorCode = errorCode || 10002;
    this.code = 404;
  }
}

class Forbidden extends HttpException{
  constructor(msg, errorCode) {
    super();
    this.msg = msg || 'ç¦æ­¢è®¿é—®';
    this.errorCode = errorCode || 10003;
    this.code = 404;
  }
}

module.exports = {
  HttpException,
  ParameterException,
  Success,
  NotFound,
  AuthFailed,
  Forbidden
}
</code></pre>
<p>å¯¹äºè¿™ç§ç»å¸¸éœ€è¦è°ƒç”¨çš„é”™è¯¯å¤„ç†çš„ä»£ç ï¼Œæœ‰å¿…è¦å°†å®ƒæ”¾åˆ°å…¨å±€ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å¯¼å…¥ã€‚</p>
<p>ç°åœ¨çš„init.jsä¸­æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="language-javascript">// init.js
const requireDirectory = require('require-directory');
const Router = require('koa-router');

class InitManager {
  static initCore(app) {
    //å…¥å£æ–¹æ³•
    InitManager.app = app;
    InitManager.initLoadRouters();
    InitManager.loadConfig();
    InitManager.loadHttpException();//åŠ å…¥å…¨å±€çš„Exception
  }
  static initLoadRouters() {
    // path config
    const apiDirectory = `${process.cwd()}/app/api/v1`;
    requireDirectory(module, apiDirectory, {
      visit: whenLoadModule
    });

    function whenLoadModule(obj) {
      if (obj instanceof Router) {
        InitManager.app.use(obj.routes());
      }
    }
  }
  static loadConfig(path = '') {
    const configPath = path || process.cwd() + '/config/config.js';
    const config = require(configPath);
    global.config = config;
  }
  static loadHttpException() {
    const errors = require('./http-exception');
    global.errs = errors;
  }
}

module.exports = InitManager;
</code></pre>
<h2 id="äº”ä½¿ç”¨jwtå®Œæˆè®¤è¯æˆæƒ">äº”.ä½¿ç”¨JWTå®Œæˆè®¤è¯æˆæƒ</h2>
<p>JWT(å³Json Web Token)ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸèº«ä»½éªŒè¯è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚å®ƒçš„å·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<p>1.å‰ç«¯å‘åç«¯ä¼ é€’ç”¨æˆ·åå’Œå¯†ç </p>
<p>2.ç”¨æˆ·åå’Œå¯†ç åœ¨åç«¯æ ¸å®æˆåŠŸåï¼Œè¿”å›å‰ç«¯ä¸€ä¸ªtoken(æˆ–å­˜åœ¨cookieä¸­)</p>
<p>3.å‰ç«¯æ‹¿åˆ°tokenå¹¶è¿›è¡Œä¿å­˜</p>
<p>4.å‰ç«¯è®¿é—®åç«¯æ¥å£æ—¶å…ˆè¿›è¡Œtokenè®¤è¯ï¼Œè®¤è¯é€šè¿‡æ‰èƒ½è®¿é—®æ¥å£ã€‚</p>
<p>é‚£ä¹ˆåœ¨koaä¸­æˆ‘ä»¬éœ€è¦åšå“ªäº›äº‹æƒ…ï¼Ÿ</p>
<p>åœ¨ç”Ÿæˆtokené˜¶æ®µï¼šé¦–å…ˆæ˜¯éªŒè¯è´¦æˆ·ï¼Œç„¶åç”Ÿæˆtokenä»¤ç‰Œï¼Œä¼ ç»™å‰ç«¯ã€‚</p>
<p>åœ¨è®¤è¯tokené˜¶æ®µ: å®Œæˆè®¤è¯ä¸­é—´ä»¶çš„ç¼–å†™ï¼Œå¯¹å‰ç«¯çš„è®¿é—®åšä¸€å±‚æ‹¦æˆªï¼Œtokenè®¤è¯è¿‡åæ‰èƒ½è®¿é—®åé¢çš„æ¥å£ã€‚</p>
<p><strong>1.ç”Ÿæˆtoken</strong><br>
å…ˆå®‰è£…ä¸¤ä¸ªåŒ…:</p>
<pre><code class="language-javascript">yarn add jsonwebtoken basic-auth
//config.js
module.exports = {
  environment: 'dev',
  database: {
    dbName: 'island',
    host: 'localhost',
    port: 3306,
    user: 'root',
    password: 'fjfj'
  },
  security: {
    secretKey: 'lajsdflsdjfljsdljfls',//ç”¨æ¥ç”Ÿæˆtokençš„keyå€¼
    expiresIn: 60 * 60//è¿‡æœŸæ—¶é—´
  }
}

//utils.js 
//ç”Ÿæˆtokenä»¤ç‰Œå‡½æ•°ï¼Œuidä¸ºç”¨æˆ·idï¼Œscopeä¸ºæƒé™ç­‰çº§(ç±»å‹ä¸ºæ•°å­—ï¼Œå†…éƒ¨çº¦å®š)
const generateToken = function(uid, scope){
    const { secretKey, expiresIn } = global.config.security
    //ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç”¨æˆ·ä¿¡æ¯çš„jså¯¹è±¡ï¼Œç¬¬äºŒä¸ªä¸ºç”¨æ¥ç”Ÿæˆtokençš„keyå€¼ï¼Œç¬¬ä¸‰ä¸ªä¸ºé…ç½®é¡¹
    const token = jwt.sign({
        uid,
        scope
    },secretKey,{
        expiresIn
    })
    return token
}
</code></pre>
<p><strong>2.Authä¸­é—´ä»¶å®ç°æ‹¦æˆª</strong></p>
<pre><code class="language-javascript">//å‰ç«¯ä¼ tokenæ–¹å¼
//åœ¨è¯·æ±‚å¤´ä¸­åŠ ä¸ŠAuthorization:`Basic ${base64(token+&quot;:&quot;)}`å³å¯
//å…¶ä¸­base64ä¸ºç¬¬ä¸‰æ–¹åº“js-base64å¯¼å‡ºçš„ä¸€ä¸ªæ–¹æ³•

//middlewares/auth.js
const basicAuth = require('basic-auth');
const jwt = require('jsonwebtoken');

class Auth {
  constructor(level) {
    Auth.USER = 8;
    Auth.ADMIN = 16;
    this.level = level || 1;
  }
  //æ³¨æ„è¿™é‡Œçš„mæ˜¯ä¸€ä¸ªå±æ€§
  get m() {
    return async (ctx, next) =&gt; {
      const userToken = basicAuth(ctx.req);
      let errMsg = 'tokenä¸åˆæ³•';

      if(!userToken || !userToken.name) {
        throw new global.errs.Forbidden();
      }
      try {
        //å°†å‰ç«¯ä¼ è¿‡æ¥çš„tokenå€¼è¿›è¡Œè®¤è¯ï¼Œå¦‚æœæˆåŠŸä¼šè¿”å›ä¸€ä¸ªdecodeå¯¹è±¡ï¼ŒåŒ…å«uidå’Œscope
        var decode = jwt.verify(userToken.name, global.config.security.secretKey);
      } catch (error) {
        // tokenä¸åˆæ³•
        // æˆ–tokenè¿‡æœŸ
        // æŠ›å¼‚å¸¸
        errMsg = '//æ ¹æ®æƒ…å†µå®šä¹‰'
        throw new global.errs.Forbidden(errMsg);
      }
      //å°†uidå’ŒscopeæŒ‚è½½ctxä¸­
      ctx.auth = {
        uid: decode.uid,
        scope: decode.scope
      };
      //ç°åœ¨èµ°åˆ°è¿™é‡Œtokenè®¤è¯é€šè¿‡
      await next();
    }
  }
}
module.exports = Auth;
</code></pre>
<p>åœ¨è·¯ç”±ç›¸åº”æ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹:</p>
<pre><code class="language-javascript">//ä¸­é—´ä»¶å…ˆè¡Œï¼Œå¦‚æœä¸­é—´ä»¶ä¸­è®¤è¯æœªé€šè¿‡ï¼Œåˆ™ä¸ä¼šèµ°åˆ°è·¯ç”±å¤„ç†é€»è¾‘è¿™é‡Œæ¥
router.post('/xxx', new Auth().m , async (ctx, next) =&gt; {
    //......
})
</code></pre>
<h2 id="å…­requireè·¯å¾„åˆ«å">å…­.requireè·¯å¾„åˆ«å</h2>
<p>åœ¨å¼€å‘çš„è¿‡ç¨‹ï¼Œå½“é¡¹ç›®çš„ç›®å½•è¶Šæ¥è¶Šå¤æ‚çš„æ—¶å€™ï¼ŒåŒ…çš„å¼•ç”¨è·¯å¾„ä¹Ÿå˜å¾—è¶Šæ¥è¶Šéº»çƒ¦ã€‚æ›¾ç»å°±å‡ºç°è¿‡è¿™æ ·çš„å¯¼å…¥è·¯å¾„:</p>
<pre><code class="language-javascript">const Favor = require('../../../models/favor');
</code></pre>
<p>ç”šè‡³è¿˜æœ‰æ¯”è¿™ä¸ªæ›´åŠ å†—é•¿çš„å¯¼å…¥æ–¹å¼ï¼Œä½œä¸ºä¸€ä¸ªæœ‰ä»£ç æ´ç™–çš„ç¨‹åºå‘˜ï¼Œå®åœ¨è®©äººçœ‹çš„éå¸¸ä¸çˆ½ã€‚å…¶å®é€šè¿‡ç»å¯¹è·¯å¾„process.cwd()çš„æ–¹å¼ä¹Ÿæ˜¯å¯ä»¥è§£å†³è¿™æ ·ä¸€ä¸ªé—®é¢˜çš„ï¼Œä½†æ˜¯å½“ç›®å½•æ·±åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå¯¼å…¥çš„ä»£ç ä¹Ÿéå¸¸ç¹å†—ã€‚é‚£æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹å¼å‘¢ï¼Ÿ</p>
<p>ä½¿ç”¨module-aliaså°†è·¯å¾„åˆ«åå°±å¯ä»¥ã€‚</p>
<pre><code class="language-javascript">yarn add module-alias
//package.jsonæ·»åŠ å¦‚ä¸‹å†…å®¹
  &quot;_moduleAliases&quot;: {
    &quot;@models&quot;: &quot;app/models&quot;
  },
</code></pre>
<p>ç„¶ååœ¨app.jså¼•å…¥è¿™ä¸ªåº“ï¼š</p>
<pre><code class="language-javascript">//å¼•å…¥å³å¯
require('module-alias/register');
</code></pre>
<p>ç°åœ¨å¼•å…¥ä»£ç å°±å˜æˆè¿™æ ·äº†:</p>
<pre><code class="language-javascript">const Favor = require('@models/favor');
</code></pre>
<p>ç®€æ´æ¸…æ™°äº†è®¸å¤šï¼Œä¹Ÿæ›´å®¹æ˜“è®©äººç»´æŠ¤ã€‚</p>
<h2 id="ä¸ƒåˆ©ç”¨sequelizeçš„äº‹åŠ¡è§£å†³æ•°æ®ä¸ä¸€è‡´é—®é¢˜">ä¸ƒ.åˆ©ç”¨sequelizeçš„äº‹åŠ¡è§£å†³æ•°æ®ä¸ä¸€è‡´é—®é¢˜</h2>
<p>å½“ä¸€ä¸ªä¸šåŠ¡è¦è¿›è¡Œå¤šé¡¹æ•°æ®åº“çš„æ“ä½œæ—¶ï¼Œæ‹¿ç‚¹èµåŠŸèƒ½ä¸ºä¾‹ï¼Œé¦–å…ˆä½ å¾—åœ¨ç‚¹èµè®°å½•çš„è¡¨ä¸­å¢åŠ è®°å½•ï¼Œç„¶åä½ è¦å°†å¯¹åº”å¯¹è±¡çš„ç‚¹èµæ•°åŠ 1ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¿…é¡»è¦ä¸€èµ·å®Œæˆçš„ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæˆåŠŸï¼Œå¦ä¸€ä¸ªæ“ä½œå‡ºç°äº†é—®é¢˜ï¼Œé‚£å°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚</p>
<p>æˆ‘ä»¬å¸Œæœ›å¦‚æœå‡ºç°äº†ä»»ä½•é—®é¢˜ï¼Œç›´æ¥å›æ»šåˆ°æœªæ“ä½œä¹‹å‰çš„çŠ¶æ€ã€‚è¿™ä¸ªæ—¶å€™å»ºè®®ç”¨æ•°æ®åº“äº‹åŠ¡çš„æ“ä½œã€‚åˆ©ç”¨sequelizeçš„transactionæ˜¯å¯ä»¥å®Œæˆçš„ï¼ŒæŠŠä¸šåŠ¡éƒ¨åˆ†çš„ä»£ç è´´ä¸€ä¸‹:</p>
<pre><code class="language-javascript">async like(art_id, uid) {
    //æŸ¥æ‰¾æ˜¯å¦æœ‰é‡å¤çš„
    const favor = await Favor.findOne({
      where: { art_id, uid }
      }
    );
    //æœ‰é‡å¤åˆ™æŠ›å¼‚å¸¸
    if (favor) {
      throw new global.errs.LikeError('ä½ å·²ç»ç‚¹è¿‡èµäº†');
    }
    //dbä¸ºsequelizeçš„å®ä¾‹
    //ä¸‹é¢æ˜¯äº‹åŠ¡çš„æ“ä½œ
    return db.transaction(async t =&gt; {
      //1.åˆ›å»ºç‚¹èµè®°å½•
      await Favor.create({ art_id, uid }, { transaction: t });
      //2.å¢åŠ ç‚¹èµæ•°
      const art = await Art.getData(art_id, type);//æ‹¿åˆ°è¢«ç‚¹èµçš„å¯¹è±¡
      await art.increment('fav_nums', { by: 1, transaction: t });//åŠ 1æ“ä½œ
    });
  }
</code></pre>
<p>sequelizeä¸­çš„transactionå¤§æ¦‚å°±æ˜¯è¿™æ ·åšçš„ï¼Œå®˜æ–¹æ–‡æ¡£æ˜¯promiseçš„æ–¹å¼ï¼Œçœ‹èµ·æ¥å®åœ¨å¤ªä¸ç¾è§‚ï¼Œæ”¹æˆasync/awaitæ–¹å¼ä¼šå¥½å¾ˆå¤šï¼Œä½†æ˜¯åƒä¸‡ä¸è¦å¿˜äº†å†™awaitã€‚</p>
<p>å…³äºkoa2çš„ä»£ç ä¼˜åŒ–ï¼Œå°±å…ˆåˆ†äº«åˆ°è¿™é‡Œï¼Œæœªå®Œå¾…ç»­ï¼Œåç»­ä¼šä¸æ–­è¡¥å……ã€‚æ¬¢è¿ç‚¹èµã€ç•™è¨€!</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è¿ˆå‡ºReactçš„ç¬¬ä¸€æ­¥]]></title>
        <id>https://Zu3zz.github.io/post/react-jian-shu</id>
        <link href="https://Zu3zz.github.io/post/react-jian-shu">
        </link>
        <updated>2019-08-10T07:24:14.000Z</updated>
        <summary type="html"><![CDATA[<p>1.å®‰è£…npm node.jsä»¥è·å¾—node.jså¼€å‘ç¯å¢ƒ,å®‰è£…yarnä½œä¸ºåŒ…ç®¡ç†å·¥å…·<br>
2.å®‰è£…è„šæ‰‹æ¶å·¥å…·create-react-app<br>
3.ä½¿ç”¨è„šæ‰‹æ¶å·¥å…·å¯åŠ¨ä¸€ä¸ªreacté¡¹ç›®......</p>
]]></summary>
        <content type="html"><![CDATA[<p>1.å®‰è£…npm node.jsä»¥è·å¾—node.jså¼€å‘ç¯å¢ƒ,å®‰è£…yarnä½œä¸ºåŒ…ç®¡ç†å·¥å…·<br>
2.å®‰è£…è„šæ‰‹æ¶å·¥å…·create-react-app<br>
3.ä½¿ç”¨è„šæ‰‹æ¶å·¥å…·å¯åŠ¨ä¸€ä¸ªreacté¡¹ç›®......</p>
<!-- more -->
<h2 id="æ­£å¼å¼€å§‹å¼€å‘">æ­£å¼å¼€å§‹å¼€å‘</h2>
<p>1.åœ¨å…¥å£æ–‡ä»¶ index.jsæ·»åŠ <br>
<code>import React from â€˜reactâ€™</code><br>
æ˜¯ä¸ºäº†reactèƒ½å¤Ÿæ”¯æŒJSXè¯­æ³•</p>
<p>2.<code>import App from './APP</code><br>
Appä¸­Aå¿…é¡»å¤§å†™ JSXè¯­æ³•ä¸æ”¯æŒappå°å†™<br>
æ‰€æœ‰æ¸²æŸ“å†…å®¹æŒ‚è½½åˆ°rootèŠ‚ç‚¹ä¸Š</p>
<p>3.ä¸€ä¸ªç»„ä»¶ä¸­renderè¿”å›çš„å†…å®¹å¿…é¡»æ•´ä½“è¢«åŒ…è£¹åœ¨divä¸­<br>
<code>import { Fragment } from 'react'</code><br>
Fragmentç”¨ä½œå ä½ç¬¦<br>
ç”¨ä½œå ä½ç¬¦æ›¿ä»£æœ€å¤–å±‚çš„æ ‡ç­¾<br>
ä½†æ˜¯ä¸ä¼šå†é¡µé¢ä¸­æ˜¾ç¤º</p>
<p>4.this.xxxxxxxxxx.bind(this)ä¸ºæ­¤ç»„ä»¶å˜æ›´ä½œç”¨åŸŸ<br>
Bindæ–¹æ³•æ”¾åœ¨constructoré‡Œé¢ å¯ä»¥åªæ‰§è¡Œä¸€æ¬¡ æå‡æ€§èƒ½<br>
æ”¹å˜stateæ•°æ®å€¼ ä½¿ç”¨setstateæ–¹æ³•</p>
<h3 id="å…³äºè™šæ‹Ÿdom">å…³äºè™šæ‹ŸDOM</h3>
<p>JSX -&gt;createElement -&gt;è™šæ‹ŸDOM(jså¯¹è±¡) -&gt;çœŸå®DOM<br>
è™šæ‹ŸDOMæ¯”å¯¹ DIFFç®—æ³• ä¸è¦ç”¨indexä½œkeyå€¼ å› ä¸ºindexä¼šéšç€ç»„ä»¶åˆ é™¤è¢«æ”¹å˜<br>
setstateæœ‰å»¶æ—¶ å¯ä»¥renderå¤šä¸ªæ”¹å˜çš„çŠ¶æ€<br>
Refæ–¹æ³• å°½é‡ä¸ç”¨ è·å–DOM<br>
Setstateå¼‚æ­¥æ‰§è¡Œ ä¸‹ä¸€ä¸ªå‡½æ•°æ”¾åœ¨åé¢çš„å›è°ƒå‡½æ•°é‡Œ</p>
<h3 id="å…³äºç”Ÿå‘½å‘¨æœŸå‡½æ•°">å…³äºç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3>
<p>åœ¨æŸä¸€ä¸ªæ—¶åˆ» ç»„ä»¶ä¼šè‡ªåŠ¨è°ƒç”¨æ‰§è¡Œçš„å‡½æ•°<br>
mountingè¿‡ç¨‹ï¼š<br>
1.componentWillMountæŒ‚è½½ä¹‹å‰<br>
2.render<br>
3.componentDidMountæŒ‚è½½ä¹‹å</p>
<p>initializationè¿‡ç¨‹ï¼š<br>
Setup props and state</p>
<p>updationè¿‡ç¨‹ ï¼š<br>
propsï¼š<br>
å­ç»„ä»¶æ¥å—å‚æ•° ä½†æ˜¯å¦‚æœç¬¬ä¸€æ¬¡å­˜åœ¨äºçˆ¶ç»„ä»¶ä¸­ ä¸ä¼šè§¦å‘<br>
å¦‚æœå·²ç»ä¹‹å‰å­˜åœ¨äºçˆ¶ç»„ä»¶é‡Œ å°±ä¼šè§¦å‘<br>
componentsWillReceiveProps<br>
shouldComponentUpdate (true/false)<br>
componentWillUpdate (true)<br>
Render()æ–¹æ³•<br>
componentDidUpdate()æ–¹æ³•</p>
<p>States:<br>
shouldComponentUpdate true/false<br>
componentWillUpdate (true)<br>
Render<br>
componentDidUpdate</p>
<p>unmountingè¿‡ç¨‹ï¼š<br>
componentWillUnmount<br>
æŠŠç»„ä»¶ä»é¡µé¢ä¸­å»é™¤</p>
<h3 id="å…³äºæé«˜æ€§èƒ½">å…³äºæé«˜æ€§èƒ½</h3>
<p>å€ŸåŠ©shouldComponentUpdateçš„æ–¹æ³• å¯ä»¥ä¸ç”¨æ¯æ¬¡è¾“å…¥æ–‡æœ¬å†…å®¹éƒ½é‡æ–°æ¸²æŸ“å­ç»„ä»¶</p>
<pre><code class="language-javascript">shouldComponentUpdate(nextProps, nextState, nextContext) {
  if (nextProps.content !== this.props.content) {
    return true;
  } else {
    return false;
  }
}
</code></pre>
<p>Ajaxè¯·æ±‚å†™åœ¨componentDidMountå‡½æ•°ä¸­ å†™åœ¨åªæ‰§è¡Œä¸€æ¬¡çš„å‡½æ•°ä¸­<br>
Reactä¸­å†™ajaxè¯·æ±‚<br>
é¦–å…ˆimport axios åˆ©ç”¨Charlesä¸­çš„tool é‡Œçš„map local æ–°å»ºä¸€ä¸ªä¸­é—´ä»¶ æ¥å—æµè§ˆå™¨çš„è¯·æ±‚ è¿”å› æ¡Œé¢ä¸Šçš„todolist.json<br>
æ‹¿åˆ°resçš„jsonå†…å®¹ä¹‹å ç›´æ¥ä½¿ç”¨setStateå‡½æ•° returnä¸€ä¸ªå‡½æ•°å¼çš„å£°æ˜ å°†é¡µé¢ä¸­çš„å†…å®¹listè®¾ç½®ä¸ºresä¸­çš„dataæ•°ç»„</p>
<pre><code class="language-javascript">axios.get('/api/todolist')
  .then((res)=&gt;{
    console.log(res.data);
    this.setState(()=&gt;({
        list: [...res.data]
    }))
  })
  .catch(()=&gt;{alert('error')})
</code></pre>
<p>Tip: å¦‚æœè¦è¿”å›å¯¹è±¡ ä¸ç”¨return ç›´æ¥å‡½æ•°ä¸­è¿”å›({aaa:bbb})å³å¯<br>
å¦å¤–éœ€è¦ä½¿ç”¨es6ä¸­çš„è¯­æ³• å°†res.dataæ‰“æ•£ é‡æ–°ä¼ ç»™list</p>
<h3 id="å…³äºtransitionåŠ¨ç”»">å…³äºtransitionåŠ¨ç”»</h3>
<p>CSSè¿‡åº¦æ•ˆæœ transition<br>
CssåŠ¨ç”»æ•ˆæœ</p>
<pre><code class="language-css">@keyframs bbb{
	0%
	50%
	100%
}
ä¹‹å‰å°±å¯ä»¥ç›´æ¥ä½¿ç”¨
.aaa{
	animation: bbb 2s ease-in;
}
</code></pre>
<p>åœ¨animationé‡Œé¢ æœ€åæ·»åŠ <br>
animation: bbb 2s ease-in forwards forwardsèƒ½å¤Ÿä¿å­˜åŠ¨ç”»æœ€åä¸€å¸§cssçš„æ ·å¼<br>
React-transition-group<br>
CSSTransion å±æ€§ï¼š in æ·»åŠ æ ‡ç­¾ timeouot æŒç»­æ—¶é—´ classNames= â€˜fadeâ€™ fadeå¯¹åº”cssä¸­çš„fade unmountOnExit ç»„ä»¶æ¶ˆå¤±æ—¶DOMä¹Ÿæ¶ˆå¤±<br>
onEntered={}é‡Œé¢å‡½æ•°<br>
Sytle.cssé‡Œ<br>
fade-enter åˆšå…¥åœºçš„æ—¶å€™ fade-enter-active ç¬¬äºŒä¸ªåŠ¨æ‰§è¡Œç»“æŸ fade-enter-done æ‰§è¡Œå®Œæˆä¹‹å<br>
Fade-exit åˆšç¦»å¼€fade-exie-activeç¦»å¼€æ—¶ fade-exit-doneç¦»å¼€å®Œæˆæ—¶<br>
TransitionGroupå†™åœ¨å¤–éƒ¨ csstransition å†™åœ¨domçš„å¤–éƒ¨</p>
<h3 id="å…³äºant-design">å…³äºAnt Design</h3>
<p>antdä½¿ç”¨æ–¹æ³•:<br>
<code>yarn add antd</code><br>
éœ€è¦ä»€ä¹ˆç»„ä»¶å»å®˜ç½‘çœ‹ éœ€è¦ä½¿ç”¨ç›´æ¥å…ˆimport å†åœ¨returné‡Œé¢ç”¨<br>
å¯ä»¥ç›´æ¥åœ¨æ ‡ç­¾é‡Œæ·»åŠ styleæ”¹å˜æ ·å¼</p>
<h3 id="å…³äºredux">å…³äºredux</h3>
<p><img src="https://Zu3zz.github.io/post-images/1565422272515.png" alt="redux-flow"><br>
Storeç›¸å½“äºå›¾ä¹¦ç®¡ç†å‘˜<br>
react componentsç›¸å½“äºå€Ÿä¹¦äºº<br>
reducersç›¸å½“äºè®°å½•æŸ¥è¯¢çš„ç”µè„‘<br>
action creatoresç›¸å½“äºå€Ÿä¹¦äººçš„æ‰€æœ‰è¯·æ±‚</p>
<h3 id="reduxä½¿ç”¨æµç¨‹">Reduxä½¿ç”¨æµç¨‹</h3>
<p>Reduxä½¿ç”¨æµç¨‹ é¦–å…ˆ <code>yarn add redux</code><br>
1.ç„¶ååœ¨srcç›®å½•ä¸‹åˆ›å»ºstoreæ–‡ä»¶å¤¹ åœ¨storeæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºindex.js é€šè¿‡ä½¿ç”¨</p>
<pre><code class="language-javascript">import { createStore } from 'redux'
import reducer from './reducer'
const store = createStore(reducer);
export default
</code></pre>
<p>2.åœ¨storeç›®å½•ä¸‹åˆ›å»ºreducer.jsæ–‡ä»¶</p>
<pre><code class="language-javascript">const defaultState = {
	// æ•°æ®å†…å®¹ éšä¾¿å¡«å†™
}
export default (state = defaultState, action) =&gt; {
  return state;
}
</code></pre>
<p>è¿™æ ·reduxä¸­çš„storeå’Œreducerséƒ½åˆ†åˆ«åˆ›å»ºå®Œæ¯•<br>
reducerså¯ä»¥çœ‹åšè®°äº‹æœ¬ storeå¯ä»¥çœ‹åšç®¡ç†å‘˜<br>
3.åŒæ—¶ åœ¨totolist.jsä¸­ ç›´æ¥å¼•å…¥storeä¸­çš„index.js å¯ä»¥ç®€å†™<br>
<code>import store from â€˜./storeâ€™;</code><br>
åŒæ—¶ åœ¨constructorä¸­ ä½¿ç”¨<br>
<code>this.state = store.getState();</code><br>
å°±å¯ä»¥ç”¨stateæ‹¿åˆ°storeä¸­æ‰€æœ‰çš„æ•°æ®</p>
<p><strong>reducerå¯ä»¥æ¥å—state ä½†æ˜¯ç»å¯¹ä¸èƒ½ä¿®æ”¹state</strong></p>
<p>åœ¨reducerä¸­åˆ¤æ–­action.typeæ˜¯å¦=== ç„¶åreturn newState</p>
<p>JSON.parse(JSON.stringfy(value)) // javascriptæ·±æ‹·è´</p>
<h3 id="åœ¨ç»„ä»¶ä¸­-ä½¿ç”¨è®¢é˜…è€…æ¨¡å¼">åœ¨ç»„ä»¶ä¸­ ä½¿ç”¨è®¢é˜…è€…æ¨¡å¼</h3>
<p><code>store.subscribe(this.handleStoreChange);</code><br>
åªè¦storeå‘ç”Ÿæ”¹å˜ é‚£ä¹ˆæ•‘æŠ¤æ‰§è¡Œsubscribeä¸­çš„å­å‡½æ•° handleStoreChangeæ–¹æ³•</p>
<p>åœ¨handleStoreChangeæ–¹æ³•ä¸­ ä½¿ç”¨setStateæ–¹æ³• é‡æ–°åŠ è½½æ•°æ® æ•°æ®å°±ä»storeä¸­ç”¨getStateé‡æ–°è·å–</p>
<pre><code class="language-javascript">handleStoreChange() {
  this.setState(store.getState());
}
</code></pre>
<p>å†æ¥ä¸€é btnä¸ŠæŒ‚è½½ä¸€ä¸ªæ–¹æ³•</p>
<pre><code class="language-javascript">static handleBtnClick() {
  const action = {
    type: 'add_todo_item'
  };
  store.dispatch(action);
}
</code></pre>
<p>è¿”å›ä¸€ä¸ªaction ç„¶ådispatchåˆ°storeä¸­<br>
storeæ”¶åˆ°action äº¤ç»™reducer<br>
åœ¨reducerä¸­ å°†newStateçš„list pushè¿›inputValue</p>
<p>å¯ä»¥å°†actionTypesæŠ½ç¦»å‡ºæ¥æ”¾åˆ°ä¸€ä¸ªå…¬å…±æ–‡ä»¶ actionTypes.jsæ–‡ä»¶ä¸­ ä¸ç”¨å­—ç¬¦ä¸²<br>
ä¹Ÿå¯ä»¥å°†å…¬å…±çš„åˆ›å»ºactionæŠ½ç¦»å‡ºæ¥ æ–°å»ºä¸€ä¸ªacitonCreatorsæ–‡ä»¶ å†åœ¨totolist.jsæ–‡ä»¶ä¸­å¼•å…¥</p>
<h3 id="reduxè¡¥å……">reduxè¡¥å……ï¼š</h3>
<p>Storeå¿…é¡»æ˜¯å”¯ä¸€çš„ åªæœ‰storeèƒ½å¤Ÿæ”¹å˜è‡ªå·±çš„å†…å®¹ reduerä¸­ä¸å¯ä»¥æ”¹å˜store<br>
Reducerå¿…é¡»æ˜¯çº¯å‡½æ•° çº¯å‡½æ•°æ˜¯æŒ‡ç»™å®šå›ºå®šçš„è¾“å…¥ å°±ä¸€å®šä¼šæœ‰å›ºå®šçš„è¾“å‡º è€Œä¸”ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨<br>
æ ¸å¿ƒAPI<br>
createStore<br>
store.dispatch<br>
store.getState<br>
store.subscribe</p>
<p>UIç»„ä»¶è´Ÿè´£é¡µé¢æ¸²æŸ“ å®¹å™¨ç»„ä»¶è´Ÿè´£é¡µé¢é€»è¾‘<br>
Todolist todolisUI äº’ç›¸ä¹‹é—´ä¼ é€’è¦ç”¨çš„æ•°æ® å‡½æ•°<br>
å¦‚æœä¸€ä¸ªç»„ä»¶åªæœ‰ä¸€ä¸ªrenderå‡½æ•° é‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªæ— çŠ¶æ€ç»„ä»¶<br>
å¯ä»¥ä¸ç”¨class extend ç›´æ¥ç”¨ä¸‹é¢çš„å†™æ³•</p>
<pre><code class="language-javascript">const aaa = (props)=&gt; {
	return (
		&lt;div&gt;
	)
}
</code></pre>
<h3 id="å…³äºredux-thunk">å…³äºredux-thunk</h3>
<p>ä½¿ç”¨redux-thunk æ˜¯reduxçš„ä¸­é—´ä»¶ è¿›è¡Œajaxè¯·æ±‚<br>
ä½¿ç”¨å¤šä¸ªä¸­é—´ä»¶ å‚ç…§gitå®˜ç½‘ redux-devtool-extion æœ‰ä½¿ç”¨æ–¹æ³•<br>
1.åœ¨index.jsä¸­å…ˆé…ç½®</p>
<pre><code class="language-javascript">import { createStore, applyMiddleware, compose } from 'redux';
import thunk from 'redux-thunk';
const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;
const enhancer = composeEnhancers(
  applyMiddleware(thunk),
  // other store enhancers if any
);
const store = createStore(
  reducer,
  enhancer
);
</code></pre>
<p>TodoList.jsä¸­ actionå¯ä»¥ä»ä¸€ä¸ªå¯¹è±¡æ‹“å±•æˆä¸€ä¸ªå‡½æ•°<br>
å‡½æ•°ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨store.dispatch(action)è§¦å‘redux<br>
åœ¨å‡½æ•°ä¸­åœ¨æ‰§è¡Œä¸€éreduxçš„æµç¨‹  åˆ›å»ºactionçš„å¯¹è±¡ ç„¶ådispatch<br>
Reduxçš„ä¸­é—´ä»¶ æŒ‡çš„æ˜¯actionå’Œstoreä¹‹é—´<br>
<img src="https://Zu3zz.github.io/post-images/1565423250758.png" alt=""></p>
<h3 id="redux-saga">redux-saga</h3>
<p>åœ¨storeä¸­çš„index.jsæ–‡ä»¶ä¸­<br>
<code>import createSagaMilddleware from â€˜redux-sagaâ€™;</code></p>
<pre><code class="language-javascript">const sagaMiddleware = createSagaMilddleware();
const enhancer = composeEnhancers(
  applyMiddleware(sagaMiddleware),
);
const store = createStore(
  reducer,
  enhancer
);
sagaMiddleware.run(todoSagas);
</code></pre>
<p>Redux-sagaéœ€è¦é¢å¤–åˆ›é€ æ–°å»ºä¸€ä¸ªsagas.jsæ–‡ä»¶ æ–‡ä»¶ä¸­éœ€è¦å®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•° å¹¶ä¸”å°†å…¶æš´éœ²å‡ºæ¥ ç”Ÿæˆå™¨å‡½æ•°çš„å†™æ³•(es6)</p>
<pre><code class="language-javascript">import { takeEvery } from 'redux-saga/effects';
function* mySaga() {
	yield takeEvery(æ¥æ”¶åˆ°çš„action,æ‰§è¡Œçš„å‡½æ•°(æœ€å¥½ä¹Ÿæ˜¯ç”Ÿæˆå™¨çš„å½¢å¼))
}
</code></pre>
<p>å› ä¸ºå·²ç»åœ¨indexä¸­è¿›è¡Œäº†é…ç½® æ‰€ä»¥sagas.jsä¹Ÿå¯ä»¥æ¥æ”¶åˆ°æ´¾å‘çš„action<br>
æ‰§è¡Œçš„ç”Ÿæˆå™¨å‡½æ•°é‡Œ æœ€å¥½ä¸è¦ç”¨promiseçš„å†™æ³•  ç›´æ¥ä½¿ç”¨<br>
function* aaa(){}è¿™æ ·çš„å‡½æ•°å†™æ³•<br>
å†…éƒ¨çš„è¯<br>
<code>const res = yield axios.get(url)</code><br>
å¯ä»¥ä½¿ç”¨try catch çš„æ–¹æ³•éƒ¨æ•è·é”™è¯¯</p>
<h3 id="react-redux">React-redux</h3>
<p>ç¬¬ä¸€ä¸ªæ ¸å¿ƒAPI: Provider èƒ½å¤Ÿè·å–storeä¸­çš„å†…å®¹ä¾›providerä¸­çš„ç»„ä»¶ä½¿ç”¨<br>
<code>import { Provider } from â€˜react-reduxâ€™;</code><br>
ç¬¬äºŒä¸ªæ ¸å¿ƒAPI: connectæ–¹æ³•<br>
ç¬¬ä¸€ä¸ªå‚æ•° å°†stateä¸propsæ˜ å°„ ç¬¬äºŒä¸ª å°†dispatchä¸propsæ˜ å°„<br>
<code>export default connect(mapStateToProps,mapDispatchToProps)(TodoList);</code></p>
<h1 id="é¡¹ç›®æ­£å¼å¼€å§‹">é¡¹ç›®æ­£å¼å¼€å§‹</h1>
<p>create-react-app è¯¥åˆ çš„éƒ½åˆ æ‰<br>
ä¸ºäº†ç®¡ç†æ ·å¼ ä½¿ç”¨styled-components<br>
å¼•å…¥å…¨å±€æ ·å¼ style.js<br>
<code>;</code></p>
<pre><code class="language-javascript">import { createGlobalStyle } from â€˜styled-componentsâ€™
export const globalStyle = createGlobalStyle`
123{
	123
}
`
</code></pre>
<p>å†åˆ°å­ç»„ä»¶ä¸­ä»¥ç»„ä»¶çš„å½¢å¼åŒ…è£¹<br>
å°†ç»„ä»¶æ‹†åˆ† æ–°å»ºä¸€ä¸ªHeaderæ–‡ä»¶å¤¹</p>
<pre><code class="language-javascript">import styled from 'styled-components';
import logoPic from '../../statics/logo.png'

export const HeaderWrapper = styled.div`
  position: relative
  height: 56px;
  border-bottom: 1px solid #f0f0f0
`;
export const Logo = styled.a.attrs({
  href: '/' // é“¾æ¥è·³è½¬
})`
  position: absolute
  top: 0;
  left: 0;
  display: block;
  height: 56px;
  width: 100px;
  background: url(${logoPic});// å¼•å…¥å›¾ç‰‡
  background-size: contain;
`;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://Zu3zz.github.io/post/hello-gridea</id>
        <link href="https://Zu3zz.github.io/post/hello-gridea">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="http://hvenotes.fehey.com/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>ğ–¶ğ—‚ğ—‡ğ–½ğ—ˆğ—ğ—Œ</strong> æˆ– <strong>ğ–¬ğ–ºğ–¼ğ–®ğ–²</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>